A. Core Data ConsumptionFeatureDesign Detail (Proposal)Rationale1. Data Source ModelAsynchronous Event Stream (Event-Driven Architecture).Decoupling: Protects operational microservices (CRM, Billing) from heavy analytical load. Analytics only consumes copies of events, ensuring its analysis never slows down the live site.2. Required EventsThree Crucial Event Types: 1. TransactionSettledV1 (from Billing), 2. SubscriptionTierUpdatedV1 (from Subscriptions), and 3. ActivityLoggedV1 (from Social/CRM).These events capture the core business lifecycle: Revenue, Customer Status, and Engagement.3. Data SchemaStar Schema in a Data Warehouse (or Denormalized Tables).Query Speed: This structure is optimized for complex JOINs and aggregate queries (e.g., "Total revenue per subscription tier per month"), which is the purpose of an analytics service.

B. Reporting and AccessFeatureDesign Detail (Proposal)Rationale4. Reporting APIGET /v1/reports/{report_name} (e.g., .../sales-by-tier)Standardization: Exposes a unified API for the Admin Microservice to fetch reports via parameterized requests (e.g., specifying a date_range or merchant_id).5. Latency ToleranceMaximum 10 Seconds.User Experience: Historical reports are expected to take longer than real-time queries. Setting a 10-second maximum prevents the Admin UI from completely timing out while allowing the backend time for complex data processing.6. Data Filtering (Authorization)Internal Query Filtering: The Analytics microservice reads the JWT Token (from SSO). If the user is a MERCHANT, the SQL query used to generate the report is automatically filtered with a WHERE merchant_id = current_user_id.Data Security: Enforces strict horizontal partitioning, ensuring merchants can only access their own revenue data.

C. Technology and ResilienceFeatureDesign Detail (Proposal)Rationale7. Data StorageCloud Data Warehouse (e.g., AWS Redshift or Snowflake).Query Power: These technologies are built specifically for running massive, complex, read-heavy analytical queries over petabytes of historical data, which is their single responsibility.

