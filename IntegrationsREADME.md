Feature,Design Detail (Proposal),Rationale

Credential Storage,AWS DynamoDB (NoSQL) with Client-Side Encryption.,"Best Choice: DynamoDB is highly scalable and cost-effective for simple key/value lookups. Crucially, its NoSQL structure is flexible for different partner credential formats, and it's fast."
Decryption Strategy,AWS Secrets Manager (Master Key).,"Security: The Integrations service retrieves the master key from Secrets Manager at runtime. This master key is used to decrypt the specific partner tokens stored in DynamoDB, ensuring the unencrypted keys are never exposed in the database or the codebase."
Key Rotation,"Automated Zero-Downtime Pipeline. The service must support automated key rotation: 1. Generate new key with the partner API. 2. Store new key encrypted in DynamoDB. 3. Retain the old key for a grace period (e.g., 24 hours) to support rolling deployments across your 19 microservices. 4. Retire the old key.","Resilience: This prevents downtime. If a microservice attempts to use an old key during deployment, the Integrations service tries the fallback key."
Feature,Design Detail (Proposal),Rationale 4. Internal Adapter API,POST /v1/integrations/execute/{partner_name},"Standardization: All internal microservices (CRM, PM, E-commerce) call this single, clean endpoint. The Integrations service uses the {partner_name} path variable to determine the necessary logic, translation, and authentication required for the 3rd-party API." 5. External Webhook,POST /v1/webhooks/{partner_name}/inbound,"Inbound Traffic: This secure endpoint is exposed through the API Gateway to receive real-time updates from partners (e.g., ""Email Bounced,"" ""Inventory Updated""). The Integrations service validates the webhook signature and converts the message into an Event that your internal services can subscribe to."
