A. Core Data and LogicFeatureDesign Detail (Proposal)Rationale1. Project RecordData Fields: client_id (from CRM), project_status (Active, On Hold, Complete), assigned_admin_id (from SSO), budgeted_hours, is_billable (boolean).Integrity: The client_id is the essential link to the CRM's customer record. The is_billable flag is crucial for financial handoff.2. Task Management ViewsViews: Kanban Board (for workflow state), List View (for daily focus), and Timeline View (for dependency tracking).Supports different roles: Managers need the Timeline; executors need the List/Kanban.3. Handoff TriggerAsynchronous Event: Listens for the SaleClosedWonV1 event from the CRM Microservice.Automation: Decouples the PM process from the sales process. The system automatically creates a project when a sale closes.

B. Reporting and Time TrackingFeatureDesign Detail (Proposal)Rationale4. Reporting APIGET /v1/reports/capacity-summaryAdmin Access: The Admin Microservice calls this API to display global team workload and identify resource bottlenecks.5. Time LoggingPOST /v1/tasks/{id}/log-timeBilling Link: This endpoint logs time entries. The Billing Microservice later queries this data (e.g., GET /v1/projects/{id}/billable-time) to generate invoices, ensuring finance reports are based on accurate work hours.

C. Access and IntegrationFeatureDesign Detail (Proposal)Rationale6. Data Filtering (Access Control)Local Enforcement using JWT: The PM service reads the user_id from the SSO Token. When retrieving tasks, it applies a database filter to the query: WHERE task.assigned_user_id = current_user_id.Security: Ensures employees only see their assignments (Least Privilege) and prevents unauthorized access to internal management data.7. Client VisibilityDedicated Read-Only API. The PM service exposes a highly restricted, read-only API endpoint (e.g., GET /v1/client-status/{project_id}) that is consumed by a simple Client Portal UI (or the customer's view on the main Marketplace).Transparency: Allows customers to see high-level status updates (e.g., "Onboarding: 75% Complete") without exposing internal task details or employee hours.
